{"headers":[],"items":[{"key":"pts","value":0,"style":"number","css":"o"},{"key":"chain","value":0,"style":"number","css":"o2"},{"key":"x","value":0,"style":"number","css":"x"}],"priority":[{"key":"status","order":"desc","alter":["win",2,"lose",0,1]},{"key":"pts","order":"desc"},{"key":"x","order":"asc"}],"actions":[{"name":"○","css":"action_o","button_css":"btn btn-primary btn-lg","keyArray":"k1","tweet":"o","enable0":"return (player.status == 'normal' && !header.playoff);","action0":"player.chain++;\nplayer.pts += player.chain;\nsetMotion(player, 'o');\naddQCount(players, header, property);"},{"name":"×","css":"action_x","button_css":"btn btn-danger btn-lg","keyArray":"k2","tweet":"x","enable0":"return (player.status == 'normal' && !header.playoff);","action0":"player.x += (player.chain + 1)\nplayer.chain = 0;\nsetMotion(player, 'x');\naddQCount(players, header, property);"}],"global_actions":[{"name":"thru","button_css":"btn btn-default","group":"rule","keyboard":"Space","tweet":"thru","enable0":"return true;","action0":"addQCount(players, header, property);"},{"name":"open","button_css":"btn btn-default","group":"rule","keyboard":"z","enable0":"return true;","action0":"header.open = ! header.open;"}],"global_actions_repeat":[],"tweet":{"o":"${handleName}◯　→${pts}pts ${chain}chain ${x}× ${substatus}","x":"${handleName}×　→${pts}pts ${x}× ${substatus}","thru":"スルー"},"judgement":"angular.forEach(players.filter(function(item) {\n  /* rankがない人に限定 */\n  return (item.rank === 0);\n}), function(player, i) {\n  /* win条件 */\n  if (player.pts >= property.winningPoint) {\n    win(player, players, header, property);\n  }\n  /* lose条件 */\n  if (player.x >= property.losingPoint) {\n    lose(player, players, header, property);\n  }\n});","calc":"angular.forEach(players, function(player, index) {\n  // pinch, chance\n  player.chance = (player.status == \"normal\") &&\n    (player.pts + player.chain + 1 >= property.winningPoint);\n  player.pinch = (player.status == \"normal\") &&\n    (player.x + player.chain + 1 >= property.losingPoint);\n  player.substatus = (player.chance && player.pinch) ? \"ダブリー\" : player.chance ? \"リーチ\" : player.pinch ? \"トビリー\" : \"\";\n\n\n  // キーボード入力時の配列の紐付け ローリング等の特殊形式でない場合はこのままでOK\\\n  player.keyIndex = player.position;\n  player.line = \"line1\";\n});","lines":[{"key":"line1","xType":true,"yType":false,"invisible":false,"zoom":1,"left":0,"right":1,"top":0,"y":0.5,"orderBy":"position"},{"key":"line2","orderBy":"priority","xType":true,"yType":false,"invisible":false,"zoom":1,"left":0,"right":1,"y":0.5}]}