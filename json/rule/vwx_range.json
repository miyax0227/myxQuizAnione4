{"headers":[{"key":"push","value":true,"style":"boolean"},{"key":"nowSet","value":1,"style":"number"}],"items":[{"key":"pts","value":0,"style":"number"},{"key":"o","value":0,"style":"number"},{"key":"x","value":0,"style":"number"},{"key":"multipts","value":0,"style":"number"},{"key":"allx","value":0,"style":"number","css":"x"},{"key":"o2x","css":"o2"},{"key":"o3x","css":"o2x"},{"key":"ptsInt","css":"o"},{"key":"ptsFrac","css":"oFrac"}],"priority":[{"key":"status","order":"desc","alter":["win",2,"lose",0,1]},{"key":"pts","order":"desc"},{"key":"x","order":"asc"}],"actions":[{"name":"○","css":"action_o","button_css":"btn btn-primary btn-lg","keyArray":"k1","tweet":"o","enable0":"return (player.status == 'normal' && !header.playoff && header.push);","action0":"player.o++;\nsetMotion(player, 'o');\naddQCount(players, header, property);"},{"name":"×","css":"action_x","button_css":"btn btn-danger btn-lg","keyArray":"k2","tweet":"x","enable0":"return (player.status == 'normal' && !header.playoff && header.push);","action0":"player.x++;\nplayer.allx++;\nsetMotion(player, 'o');\naddQCount(players, header, property);"},{"name":"+","css":"action_plus","button_css":"btn btn-primary","keyArray":"k3","enable0":"return (player.status == 'normal' && !header.playoff && ! header.push);","action0":"player.multipts++;"},{"name":"-","button_css":"btn btn-danger","css":"action_minus","enable0":"return (player.status == 'normal' && !header.playoff && ! header.push);","action0":"player.multipts--;"}],"global_actions":[{"name":"thru","button_css":"btn btn-default","group":"rule","keyboard":"Space","enable0":"return true;","action0":"// 早押しモード\nif (header.push) {\n  qCommon.editTweet(header.tweets, property.tweet[\"thru\"], header, true);\n  addQCount(players, header, property);\n  // 多答モード\n} else {\n  players.map(function(p) {\n    p.pts += Math.floor((p.o + 1) * (p.multipts + 1) / (p.x + 1) * 10 + 0.5) / 10;\n  });\n}"},{"name":"push/multi","button_css":"btn btn-default","group":"rule","keyboard":"z","enable0":"return true;","action0":"// 早押しモード\nif (header.push) {\n  header.push = false;\n  // 多答モード\n} else {\n  header.push = true;\n  players.map(function(p) {\n    p.o = 0;\n    p.x = 0;\n    p.multipts = 0;\n  });\n  header.nowSet++;\n}"}],"global_actions_repeat":[],"tweet":{"o":"${handleName}◯　→${o}◯ ${x}×","x":"${handleName}×　→${o}◯ ${x}×","thru":"スルー"},"judgement":"angular.forEach(players.filter(function(item) {\n  /* rankがない人に限定 */\n  return (item.rank === 0);\n}), function(player, i) {\n  /* win条件 */\n\n  /* lose条件 */\n  if (player.allx >= property.losingPoint) {\n    lose(player, players, header, property);\n  }\n});","calc":"angular.forEach(players, function(player, index) {\n  // pinch, chance\n  player.chance = false;\n  player.pinch = (player.allx + 1 >= property.losingPoint);\n\n  if (header.push) {\n    player.o2x = player.o + \"-\" + player.x;\n    player.o3x = \"\";\n  } else {\n    player.o2x = \"x\" + (Math.floor((player.o + 1) / (player.x + 1) * 100 + 0.5) / 100);\n    player.o3x = player.multipts + \"+1\";\n  }\n\n  player.pts10 = Math.floor(player.pts * 10 + 0.5);\n  player.ptsInt = Math.floor(player.pts10 / 10);\n  player.ptsFrac = [\"\", \".1\", \".2\", \".3\", \".4\", \".5\", \".6\", \".7\", \".8\", \".9\"][player.pts10 - player.ptsInt * 10];\n\n\n  // キーボード入力時の配列の紐付け ローリング等の特殊形式でない場合はこのままでOK\\\n  player.keyIndex = player.position;\n  player.line = \"line1\";\n});","lines":[{"key":"line1","xType":true,"yType":false,"invisible":false,"zoom":1,"left":0,"right":1,"top":0,"y":0.55,"orderBy":"position"},{"key":"line2","orderBy":"priority","xType":true,"yType":false,"invisible":false,"zoom":1,"left":0,"right":1,"y":0.5}]}